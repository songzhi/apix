from enum import Enum
from typing import Any

from pydantic.fields import FieldInfo


class ParamTypes(Enum):
    query = "query"
    header = "header"
    path = "path"
    cookie = "cookie"


class Param(FieldInfo):
    in_: ParamTypes

    def __init__(
            self,
            default: Any,
            *,
            alias: str = None,
            title: str = None,
            description: str = None,
            gt: float = None,
            ge: float = None,
            lt: float = None,
            le: float = None,
            min_length: int = None,
            max_length: int = None,
            regex: str = None,
            deprecated: bool = None,
            **extra: Any,
    ):
        self.deprecated = deprecated
        super().__init__(
            default,
            alias=alias,
            title=title,
            description=description,
            gt=gt,
            ge=ge,
            lt=lt,
            le=le,
            min_length=min_length,
            max_length=max_length,
            regex=regex,
            **extra,
        )


class Path(Param):
    in_ = ParamTypes.path

    def __init__(
            self,
            default: Any,
            *,
            alias: str = None,
            title: str = None,
            description: str = None,
            gt: float = None,
            ge: float = None,
            lt: float = None,
            le: float = None,
            min_length: int = None,
            max_length: int = None,
            regex: str = None,
            deprecated: bool = None,
            **extra: Any,
    ):
        self.in_ = self.in_
        super().__init__(
            ...,
            alias=alias,
            title=title,
            description=description,
            gt=gt,
            ge=ge,
            lt=lt,
            le=le,
            min_length=min_length,
            max_length=max_length,
            regex=regex,
            deprecated=deprecated,
            **extra,
        )


class Query(Param):
    in_ = ParamTypes.query

    def __init__(
            self,
            default: Any,
            *,
            alias: str = None,
            title: str = None,
            description: str = None,
            gt: float = None,
            ge: float = None,
            lt: float = None,
            le: float = None,
            min_length: int = None,
            max_length: int = None,
            regex: str = None,
            deprecated: bool = None,
            **extra: Any,
    ):
        super().__init__(
            default,
            alias=alias,
            title=title,
            description=description,
            gt=gt,
            ge=ge,
            lt=lt,
            le=le,
            min_length=min_length,
            max_length=max_length,
            regex=regex,
            deprecated=deprecated,
            **extra,
        )


class Header(Param):
    in_ = ParamTypes.header

    def __init__(
            self,
            default: Any,
            *,
            alias: str = None,
            convert_underscores: bool = True,
            title: str = None,
            description: str = None,
            gt: float = None,
            ge: float = None,
            lt: float = None,
            le: float = None,
            min_length: int = None,
            max_length: int = None,
            regex: str = None,
            deprecated: bool = None,
            **extra: Any,
    ):
        self.convert_underscores = convert_underscores
        super().__init__(
            default,
            alias=alias,
            title=title,
            description=description,
            gt=gt,
            ge=ge,
            lt=lt,
            le=le,
            min_length=min_length,
            max_length=max_length,
            regex=regex,
            deprecated=deprecated,
            **extra,
        )


class Cookie(Param):
    in_ = ParamTypes.cookie

    def __init__(
            self,
            default: Any,
            *,
            alias: str = None,
            title: str = None,
            description: str = None,
            gt: float = None,
            ge: float = None,
            lt: float = None,
            le: float = None,
            min_length: int = None,
            max_length: int = None,
            regex: str = None,
            deprecated: bool = None,
            **extra: Any,
    ):
        super().__init__(
            default,
            alias=alias,
            title=title,
            description=description,
            gt=gt,
            ge=ge,
            lt=lt,
            le=le,
            min_length=min_length,
            max_length=max_length,
            regex=regex,
            deprecated=deprecated,
            **extra,
        )


class Body(FieldInfo):
    def __init__(
            self,
            default: Any,
            *,
            embed: bool = False,
            media_type: str = "application/json",
            alias: str = None,
            title: str = None,
            description: str = None,
            gt: float = None,
            ge: float = None,
            lt: float = None,
            le: float = None,
            min_length: int = None,
            max_length: int = None,
            regex: str = None,
            **extra: Any,
    ):
        self.embed = embed
        self.media_type = media_type
        super().__init__(
            default,
            alias=alias,
            title=title,
            description=description,
            gt=gt,
            ge=ge,
            lt=lt,
            le=le,
            min_length=min_length,
            max_length=max_length,
            regex=regex,
            **extra,
        )


class Form(Body):
    def __init__(
            self,
            default: Any,
            *,
            media_type: str = "application/x-www-form-urlencoded",
            alias: str = None,
            title: str = None,
            description: str = None,
            gt: float = None,
            ge: float = None,
            lt: float = None,
            le: float = None,
            min_length: int = None,
            max_length: int = None,
            regex: str = None,
            **extra: Any,
    ):
        super().__init__(
            default,
            embed=True,
            media_type=media_type,
            alias=alias,
            title=title,
            description=description,
            gt=gt,
            ge=ge,
            lt=lt,
            le=le,
            min_length=min_length,
            max_length=max_length,
            regex=regex,
            **extra,
        )


class File(Form):
    def __init__(
            self,
            default: Any,
            *,
            media_type: str = "multipart/form-data",
            alias: str = None,
            title: str = None,
            description: str = None,
            gt: float = None,
            ge: float = None,
            lt: float = None,
            le: float = None,
            min_length: int = None,
            max_length: int = None,
            regex: str = None,
            **extra: Any,
    ):
        super().__init__(
            default,
            media_type=media_type,
            alias=alias,
            title=title,
            description=description,
            gt=gt,
            ge=ge,
            lt=lt,
            le=le,
            min_length=min_length,
            max_length=max_length,
            regex=regex,
            **extra,
        )
